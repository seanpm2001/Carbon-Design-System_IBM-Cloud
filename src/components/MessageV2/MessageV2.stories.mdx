import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";
import { Link } from "@carbon/react";
import MessageV2 from ".";

import "./_styles.scss";

<Meta
  title="Community components/MessageV2"
  component={MessageV2}
  argTypes={{
    locale: {
      control: { type: "select" },
      options: [
        "de",
        "en",
        "es",
        "fr",
        "it",
        "ja",
        "ko",
        "pt-br",
        "zh-cn",
        "zh-tw",
      ],
      defaultValue: "en",
    },
    children: { control: false },
  }}
  parameters={{ status: { type: "community" } }}
/>

# Message v2

## With `<Tile />`

export const Template = (args) => (
  <div style={{ margin: "1rem", maxWidth: "700px", width: "100%" }}>
    <MessageV2 {...args} />
  </div>
);

<Canvas>
  <Story
    name="With <Tile />"
    args={{
      icon: { name: "USAGE", color: "BLUE" },
      text: (
        <>
          There aren't enough resources to make a chart.{" "}
          <Link>Learn more about usage.</Link>
        </>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Without `<Tile />`

<Canvas>
  <Story
    name="Without <Tile />"
    args={{
      icon: { name: "USAGE", color: "GRAY" },
      tileWrapped: false,
      text: (
        <>
          There aren't enough resources to make a chart.{" "}
          <Link>Learn more about usage.</Link>
        </>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Blue error

<Canvas>
  <Story
    name="Blue error"
    args={{
      icon: { name: "ERROR", color: "BLUE" },
      text: "Unable to fetch the requested resources at this time. Please try again later",
      caption: "ERROR CODE: 502 - Bad Gateway",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Gray support

<Canvas>
  <Story
    name="Gray support"
    args={{
      icon: { name: "SUPPORT", color: "GRAY" },
      text: (
        <>
          You can view a summary of your support cases here after you submit
          them. <a>Learn more about how to get support.</a>
        </>
      ),
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Description

This component is designed as a replacement for the existing `<Message />` component.

In a nutshell, it allows for a quick way to indicate to a user that the resources intended to be displayed on the page cannot be retrieved for whatever reason (an error, no permission, etc.).

It includes a number of different isometric icons that can be changed via the `icon` prop (with blue or greyscale options), as well as the ability to control the internal padding by choosing whether or not to wrap the content in Carbon's `<Tile />` component.

## Usage

1.  Install the [@console/pal](https://github.ibm.com/ibmcloud/pal#how-to-install-and-use) library
2.  Import the styles:

    ```js
    @import '@console/pal/Components/MessageV2/styles';
    ```

3.  Import the component:

    ```js
    import { MessageV2 } from "@console/pal/Components";
    ```

4.  Render the component.

For general component usage review the [Components Docs](https://pages.github.ibm.com/ibmcloud/pal/development-guidelines/components/overview).

## Props

<ArgsTable of={MessageV2} />

## Contributors

- Ryan O. Mackey
