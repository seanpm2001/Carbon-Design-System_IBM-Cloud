import { Meta, Canvas, Story, ArgsTable } from "@storybook/addon-docs";
import { useState } from 'react';
import { Button } from "@carbon/react";
import AnimatedNumbers from './AnimatedNumbers';
import "./_styles.scss";

<Meta
  title="Experimental/AnimatedNumbers"
  component={AnimatedNumbers}
  argTypes={{
    currentNumber: { type: { name: 'number' } },
    staggeredAnimation:  { control: 'boolean' }
  }}
  parameters={{ status: { type: "experimental" } }}
/>

# AnimatedNumbers

export const Template = args => {
  const {currentNumber, ...otherArgs} = args;
  const [number, setNumber] = useState(currentNumber);
  function addNumber(delta) {
    let newNumber = number + delta;
    // Limit our number to what can be displayed,
    // otherwise button clicks may take more increments/decrements than is visible.
    if (newNumber < 0) {
      newNumber = 0;
    }
    setNumber(newNumber);
  }
  return <>
    <AnimatedNumbers currentNumber={number} {...otherArgs}  />
    <Button kind='tertiary' size='sm' onClick={() => addNumber(100)}>
        Increase
    </Button>
    <Button kind='tertiary' size='sm'onClick={() => addNumber(-100)}>
        Decrease
    </Button>
    </>
}

### Chunked numbers

<Canvas>
  <Story
    name="Chunked"
    args={{currentNumber:0}}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Staggered

<Canvas>
  <Story
    name="Staggered"
    args={{currentNumber:0}}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Description

AnimatedNumbers is a component in the Cloud PAL Experimental style. AnimatedNumbers animates an increase or decrease in cost. 

Motion can be reduced with system or browser settings.

## Usage

1.  Install the [@carbon/carbon-for-ibm-cloud](https://pages.github.ibm.com/cdai-design/cloud-pal/cloudpal-guidance/cloudpal-v2/migration-guides/#installing-and-using-the-new-packages) library
2.  Import the styles:

    ```js
    @import '@carbon/carbon-for-ibm-cloud/components/AnimatedNumbers/styles';
    ```

3.  Import the component:

    ```js
    import { AnimatedNumbers } from "@carbon/carbon-for-ibm-cloud/components";
    ```

4.  Render the component.

For general component usage review the [Components Docs](https://pages.github.ibm.com/ibmcloud/pal/development-guidelines/components/overview).

## Props

<ArgsTable of={AnimatedNumbers} />

## Loading State

<Canvas>
  <Story
    name="Skeleton"
  >
    <AnimatedNumbers.Skeleton />
  </Story>
</Canvas>

## Contributors

- Stephanie Cree
- Kevin Camelo